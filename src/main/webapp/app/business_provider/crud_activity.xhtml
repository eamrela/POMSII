<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:POMSII="http://xmlns.jcp.org/jsf/composite/components"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"></meta>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"></meta>
        <meta name="apple-mobile-web-app-capable" content="yes"></meta>
        <meta name="apple-touch-fullscreen" content="yes"></meta>
        <meta name="description" content="POMS"></meta>
        <meta name="author" content="Amr El Ansary"></meta>

        <link rel="shortcut icon" href="#{resource['assets/img/logo-icon-dark.png']}"/>

 <h:outputStylesheet name="fortawesome.github.io/Font-Awesome/fontAwesome.css"  />
            <h:outputStylesheet name="fortawesome.github.io/Font-Awesome/materialIcons.css"  />
            <h:outputStylesheet name="assets/plugins/form-daterangepicker/daterangepicker-bs3.css"  />
            <h:outputStylesheet name="assets/fonts/font-awesome/css/font-awesome.min.css"  />
            <link type="text/css" href="../../resources/assets/css/styles.css"  rel="stylesheet"/>
            <h:outputStylesheet name="assets/plugins/progress-skylo/skylo.css"  />
        <h:outputStylesheet name="css/jsfcrud.css"/>
        
        <title>POMS-II</title>
        <f:metadata>
            <f:viewAction action="#{activityController.clearSelected}"/>
        </f:metadata>
        <style>
            .ui-growl{
    top:100px;
        }
.fixed-size {
    table-layout: auto;
    white-space: nowrap;
    word-wrap: normal;
    overflow: hidden;
    font-size: 0.7vw;
    text-align: left;
    float: left;
}
        </style>

    </h:head>
    <h:body class="animated-content infobar-overlay">
        <POMSII:Header/>

        <div id="wrapper">
            <div id="layout-static">
                <div class="static-sidebar-wrapper sidebar-blue">
                    <div class="static-sidebar">
                        <div class="sidebar">
                            <POMSII:ProfileInfo username="#{usersController.loggedInUser.firstLastName}" email="#{usersController.loggedInUser.email}"/> 

                            <div class="widget stay-on-collapse" id="widget-sidebar">
                                <POMSII:NavigationMenu dashboard="#{usersController.dashboard}"
                                    settings="#{usersController.settings}"
                                    activities="#{usersController.activities}"
                                    customer="#{usersController.customer}"
                                    subcontractor="#{usersController.subcontractor}"
                                    export="#{usersController.export}"/>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="static-content-wrapper">
                    <div class="static-content">
                        <div class="page-content">
                            <POMSII:PageHeadings largeText="Activity" smallText="View and Edit Activities"/>
                            <div class="container-fluid">
                                <h:form id="ActivityListForm">
                                <p:growl id="growl" sticky="true"/>
                                <!--Page start content here-->
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="panel panel-primary" data-widget='{"draggable": "false"}'>
                                                <div class="panel-heading">
                                                        <h2>All Activities</h2>
                                                        <div class="panel-ctrls" data-actions-container="" data-action-collapse='{"target": ".panel-body, .panel-footer"}'></div>
                                                </div>
                                                <div class="panel-body">
                                                    <div class="row">
                                                    <p:dataTable id="datalistActivity" 
                                                                 value="#{activityController.itemsUncorrelated}" 
                                                                             var="item"
                                                                             selectionMode="multiple" 
                                                                             selection="#{activityController.selectedItems}"
                                                                             paginator="true"
                                                                             rowKey="#{item.activityId}"
                                                                             rows="10"
                                                                             rowsPerPageTemplate="5,10,15,20,25"
                                                                             styleClass="fixed-size"
                                                                             >

                                                                    <p:ajax event="rowSelect"   
                                                                            update=":ActivityListForm:selectedActivityCode,
                                                                                    :ActivityListForm:selectedCorrelation,editButton, exportButton
                                                                                    ,:ActivityListForm:growl,
                                                                                    :ActivityListForm:datalistActivity"/>
                                                                    <p:ajax event="rowUnselect"   
                                                                            update=":ActivityListForm:selectedActivityCode,
                                                                                    :ActivityListForm:selectedCorrelation,editButton, exportButton
                                                                                    ,:ActivityListForm:growl,
                                                                                    :ActivityListForm:datalistActivity"/>

                                                                    <p:column style="font-size: 9px;" filterBy="#{item.activityId}" filterMatchMode="contains" filterStyle="width: 70%;">
                                                                        <f:facet name="header">
                                                                            <h:outputText value="Id"/>
                                                                        </f:facet>
                                                                        <h:outputText id="activityId" value="#{item.activityId}"/>
                                                                        <p:tooltip value="#{item.activityId}" for="activityId"/>
                                                                    </p:column>
                                                                    <p:column style="font-size: 9px;" sortBy="#{item.activityDate}">
                                                                        <f:facet name="header">
                                                                            <h:outputText value="Date"/>
                                                                        </f:facet>
                                                                        <h:outputText id="activityDate" value="#{item.activityDate}">
                                                                            <f:convertDateTime pattern="MM/dd/yyyy" />
                                                                        </h:outputText>
                                                                        <p:tooltip value="#{item.activityDate}" for="activityDate"/>
                                                                    </p:column>
                                                                    <p:column style="font-size: 9px;" filterBy="#{item.activityDetails}" filterMatchMode="contains" filterStyle="width: 70%;">
                                                                        <f:facet name="header">
                                                                            <h:outputText value="Details"/>
                                                                        </f:facet>
                                                                        <h:outputText id="activityDetails" value="#{item.activityDetails}"/>
                                                                        <p:tooltip value="#{item.activityDetails}" for="activityDetails"/>
                                                                    </p:column>
                                                                    <p:column style="font-size: 9px;">
                                                                        <f:facet name="header">
                                                                            <h:outputText value="Qty"/>
                                                                        </f:facet>
                                                                        <h:outputText id="qty" value="#{item.qty}"/>
                                                                        <p:tooltip value="#{item.qty}" for="qty"/>
                                                                    </p:column>
                                                                    <p:column style="font-size: 9px;" sortBy="#{item.totalPriceVendor}">
                                                                        <f:facet name="header">
                                                                            <h:outputText value="Price Customer"/>
                                                                        </f:facet>
                                                                        <h:outputText id="totalPriceVendor" value="#{item.totalPriceVendor}">
                                                                            <f:convertNumber currencySymbol="" type="currency" maxFractionDigits="0"/>
                                                                        </h:outputText>
                                                                        <p:tooltip value="#{item.totalPriceVendor}" for="totalPriceVendor"/>
                                                                    </p:column>
                                                                    <p:column style="font-size: 9px;" sortBy="#{item.totalPriceVendorTaxes}">
                                                                        <f:facet name="header">
                                                                            <h:outputText value="Price With Taxes"/>
                                                                        </f:facet>
                                                                        <h:outputText id="totalPriceVendorTaxes" value="#{item.totalPriceVendorTaxes}">
                                                                            <f:convertNumber currencySymbol="" type="currency" maxFractionDigits="0"/>
                                                                        </h:outputText>
                                                                        <p:tooltip value="#{item.totalPriceVendorTaxes}" for="totalPriceVendorTaxes"/>
                                                                    </p:column>
                                                                    <p:column style="font-size: 9px;" sortBy="#{item.totalPriceAsp}">
                                                                        <f:facet name="header">
                                                                            <h:outputText value="ASP Price"/>
                                                                        </f:facet>
                                                                        <h:outputText id="totalPriceAsp" value="#{item.totalPriceAsp}">
                                                                            <f:convertNumber currencySymbol="" type="currency" maxFractionDigits="0"/>
                                                                        </h:outputText>
                                                                        <p:tooltip value="#{item.totalPriceAsp}" for="totalPriceAsp"/>
                                                                    </p:column>
                                                                    <p:column style="font-size: 9px;" sortBy="#{item.totalUm}">
                                                                        <f:facet name="header">
                                                                            <h:outputText value="Total UM"/>
                                                                        </f:facet>
                                                                        <h:outputText id="totalUm" value="#{item.totalUm}">
                                                                            <f:convertNumber currencySymbol="" type="currency" maxFractionDigits="0"/>
                                                                        </h:outputText>
                                                                        <p:tooltip value="#{item.totalUm}" for="totalUm"/>
                                                                    </p:column>
                                                                    <p:column style="font-size: 9px;" sortBy="#{item.totalUmPercent}">
                                                                        <f:facet name="header">
                                                                            <h:outputText value="UM%"/>
                                                                        </f:facet>
                                                                        <h:outputText id="totalUmPercent" value="#{item.totalUmPercent*100.0}">
                                                                            <f:convertNumber groupingUsed="false" minFractionDigits="1" />
                                                                        </h:outputText>%
                                                                        <p:tooltip value="#{item.totalUmPercent}" for="totalUmPercent"/>
                                                                    </p:column>
                                                                    <p:column style="font-size: 9px;" filterBy="#{item.activityComment}" filterMatchMode="contains" filterStyle="width: 70%;">
                                                                        <f:facet name="header">
                                                                            <h:outputText value="Comment"/>
                                                                        </f:facet>
                                                                        <h:outputText id="activityComment" value="#{item.activityComment}"/>
                                                                        <p:tooltip value="#{item.activityComment}" for="activityComment"/>
                                                                    </p:column>
                                                                   
                                                                    <p:column style="font-size: 9px;">
                                                                        <f:facet name="header">
                                                                            <h:outputText value="Taxes"/>
                                                                        </f:facet>
                                                                        <h:outputText id="taxes" value="#{item.taxes}%"/>
                                                                        <p:tooltip value="#{item.taxes}" for="taxes"/>
                                                                    </p:column>
                                                                    <p:column style="font-size: 9px;" filterBy="#{item.approvalStatus.statusName}" filterMatchMode="contains" filterStyle="width: 70%;">
                                                                        <f:facet name="header">
                                                                            <h:outputText value="Approval"/>
                                                                        </f:facet>
                                                                        <h:outputText id="statusName" value="#{item.approvalStatus.statusName}"/>
                                                                        <p:tooltip value="#{item.approvalStatus.statusName}" for="statusName"/>
                                                                    </p:column>
                                                                    <p:column style="font-size: 9px;" filterBy="#{item.area.areaName}" filterMatchMode="contains" filterStyle="width: 70%;">
                                                                        <f:facet name="header">
                                                                            <h:outputText value="Area"/>
                                                                        </f:facet>
                                                                        <h:outputText id="areaName" value="#{item.area.areaName}"/>
                                                                        <p:tooltip value="#{item.area.areaName}" for="areaName"/>
                                                                    </p:column>
                                                                    <p:column style="font-size: 9px;" filterBy="#{item.claimStatus.claimName}" filterMatchMode="contains" filterStyle="width: 70%;">
                                                                        <f:facet name="header">
                                                                            <h:outputText value="Claim"/>
                                                                        </f:facet>
                                                                        <h:outputText id="claimName" value="#{item.claimStatus.claimName}"/>
                                                                        <p:tooltip value="#{item.claimStatus.claimName}" for="claimName"/>
                                                                    </p:column>
                                                                    <p:column style="font-size: 9px;" filterBy="#{item.activityType.domainName}" filterMatchMode="contains" filterStyle="width: 70%;">
                                                                        <f:facet name="header">
                                                                            <h:outputText value="Type"/>
                                                                        </f:facet>
                                                                        <h:outputText id="domainName" value="#{item.activityType.domainName}"/>
                                                                        <p:tooltip value="#{item.activityType.domainName}" for="domainName"/>
                                                                    </p:column>
                                                                    <p:column style="font-size: 9px;" filterBy="#{item.phase.phaseName}" filterMatchMode="contains" filterStyle="width: 70%;">
                                                                        <f:facet name="header">
                                                                            <h:outputText value="Phase"/>
                                                                        </f:facet>
                                                                        <h:outputText id="phaseName" value="#{item.phase.phaseName}"/>
                                                                        <p:tooltip value="#{item.phase.phaseName}" for="phaseName"/>
                                                                    </p:column>
                                                                    <p:column style="font-size: 9px;" filterBy="#{item.site.sitePhysical}" filterMatchMode="contains" filterStyle="width: 70%;">
                                                                        <f:facet name="header">
                                                                            <h:outputText value="Site"/>
                                                                        </f:facet>
                                                                        <h:outputText id="sitePhysical" value="#{item.site.sitePhysical}"/>
                                                                        <p:tooltip value="#{item.site.sitePhysical}" for="sitePhysical"/>
                                                                    </p:column>
                                                                    <p:column style="font-size: 9px;" filterBy="#{item.asp.subcontractorName}" filterMatchMode="contains" filterStyle="width: 70%;">
                                                                        <f:facet name="header">
                                                                            <h:outputText value="ASP"/>
                                                                        </f:facet>
                                                                        <h:outputText id="subcontractorName" value="#{item.asp.subcontractorName}"/>
                                                                        <p:tooltip value="#{item.asp.subcontractorName}" for="subcontractorName"/>
                                                                    </p:column>
                                                                    <p:column style="font-size: 9px;">
                                                                        <f:facet name="header">
                                                                            <h:outputText value="Creator"/>
                                                                        </f:facet>
                                                                        <h:outputText id="email" value="#{item.creator.email}"/>
                                                                        <p:tooltip value="#{item.creator.email}" for="email"/>
                                                                    </p:column>
                                                                    <p:column style="font-size: 9px;" filterBy="#{item.vendorOwner.ownerName}" filterMatchMode="contains" filterStyle="width: 70%;">
                                                                        <f:facet name="header">
                                                                            <h:outputText value="Owner"/>
                                                                        </f:facet>
                                                                        <h:outputText id="ownerName" value="#{item.vendorOwner.ownerName}"/>
                                                                        <p:tooltip value="#{item.vendorOwner.ownerName}" for="ownerName"/>
                                                                    </p:column>
                                                                    <f:facet name="footer">
                                                                        <p:commandButton id="editButton"   icon="ui-icon-pencil" value="#{bundle.Edit}" update=":ActivityEditForm" oncomplete="PF('ActivityEditDialog').show()" disabled="#{empty activityController.selectedItems}"/>
                                                                        <p:commandButton id="deleteButton" icon="ui-icon-trash"  
                                                                                         value="#{bundle.Delete}" actionListener="#{activityController.destroy}" 
                                                                                         update=":ActivityListForm:selectedActivityCode,
                                                                                                :ActivityListForm:selectedCorrelation,editButton
                                                                                                ,:ActivityListForm:growl,
                                                                                                :ActivityListForm:datalistActivity" 
                                                                                         disabled="#{empty activityController.selectedItems or usersController.role != 'ROLE_SYSADMIN' }"/>
                                                                        <p:commandButton id="exportButton"   
                                                                                         icon="ui-icon-arrowstop-1-s" 
                                                                                         value="Export"
                                                                                          ajax="false"
                                                                                         actionListener="#{exportManager.exportActivityForUser}"
                                                                                         disabled="#{empty activityController.selectedItems}"/>
                                                                    </f:facet>
                                                                </p:dataTable> 
                                                    </div>
                                                </div>
                                        </div>
                                    </div>
                                </div>
                                        
                                <div class="row">
                                        <div class="col-md-6">
                                        <div class="panel panel-primary" data-widget='{"draggable": "false"}'>
                                                <div class="panel-heading">
                                                        <h2>Activity Code</h2>
                                                        <div class="panel-ctrls" data-actions-container="" data-action-collapse='{"target": ".panel-body, .panel-footer"}'></div>
                                                </div>
                                                <div class="panel-body">
                                                    <p:outputPanel id="selectedActivityCode">
                                                        <h:panelGroup rendered="#{activityController.selected!=null}">
                                                            <div class="row">
                                                                <div class="col-xs-12">
                                                                    <label for="activitycode">Code</label>
                                                                    <h:outputText id="activitycode"
                                                                                  class="form-control"
                                                                                  value="#{activityController.selected.acMaterialId}"/>
                                                                </div>
                                                                <div class="col-xs-12">
                                                                    <label for="activitycodedescription">Description</label>
                                                                    <h:outputText id="activitycodedescription" 
                                                                                  class="form-control"
                                                                                  value="#{activityController.selected.acDescription}"/>
                                                                </div> 
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-xs-6">
                                                                    <label for="activitycodevunitprice">Customer Price</label>
                                                                    <h:outputText 
                                                                        value="#{activityController.selected.acVendorPrice}"
                                                                        class="form-control" id="activitycodevunitprice">
                                                                        <f:convertNumber currencySymbol="" type="currency" maxFractionDigits="0"/>
                                                                    </h:outputText>
                                                                </div>
                                                                <div class="col-xs-6">
                                                                    <label for="activitycodeaspunitprice">ASP Price</label>
                                                                    <h:outputText 
                                                                        value="#{activityController.selected.acSubcontractorPrice}"
                                                                        class="form-control" id="activitycodeaspunitprice">
                                                                        <f:convertNumber currencySymbol="" type="currency" maxFractionDigits="0"/>
                                                                    </h:outputText>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-xs-6">
                                                                    <label for="activitycodeum">UM/Unit</label>
                                                                    <h:outputText value="#{activityController.selected.acUm}"
                                                                                 class="form-control" id="activitycodeum">
                                                                        <f:convertNumber currencySymbol="" type="currency" maxFractionDigits="0"/>
                                                                    </h:outputText>
                                                                </div>
                                                                <div class="col-xs-6">
                                                                    <label for="activitycodeump">UM%/Unit</label>
                                                                    <h:outputText value="#{activityController.selected.acUmPercent}"
                                                                                 class="form-control" id="activitycodeump"/>
                                                                </div>
                                                            </div>   
                                                        </h:panelGroup>
                                                    </p:outputPanel>
                                                </div>
                                        </div>
                                        </div>
                                    <h:panelGroup rendered="#{usersController.customer}">
                                        <div class="col-md-6">
                                        <div class="panel panel-primary" data-widget='{"draggable": "false"}'>
                                                <div class="panel-heading">
                                                    <h2>Correlation</h2>
                                                        <div class="panel-ctrls" data-actions-container="" data-action-collapse='{"target": ".panel-body, .panel-footer"}'></div>
                                                </div>
                                                <div class="panel-body">
                                                    <p:outputPanel id="selectedCorrelation">
                                                    <h:panelGroup rendered="#{activityController.selectedItems!=null}">
                                                        <h:panelGroup rendered="#{activityController.selectedItems.get(0).correlateTo eq 'ASP'}">
                                                            <label >Total ASP price: (
                                                                <h:outputText value="#{activityController.totalPriceASP}">
                                                                <f:convertNumber currencySymbol="" type="currency" maxFractionDigits="0"/>
                                                                </h:outputText>
                                                                )</label>
                                                            <br></br>
                                                            <label >Please select a PO to correlate Activity (#{activityController.activityIds})</label>
                                                            <p:dataTable 
                                                                id="aspDataTable"
                                                                var="aspPO" 
                                                                value="#{aspPoController.findMatchingPOForActivity()}"
                                                                emptyMessage="No POs found matching this activity"
                                                                selection="#{activityController.selectedASPPo}"
                                                                selectionMode="single"
                                                                rowKey="#{aspPO.poNumber}"
                                                                styleClass="fixed-size">
                                                                
                                                                <p:ajax event="rowSelect" update=":ActivityListForm:selectedCorrelationPO"/>
                                                                
                                                                <p:column headerText="PO#">
                                                                    <h:outputText value="#{aspPO.poNumber}" />
                                                                </p:column>

                                                                <p:column headerText="Remaining">
                                                                    <h:outputText value="#{aspPO.remainingInPo}" >
                                                                        <f:convertNumber currencySymbol="" type="currency" maxFractionDigits="0"/>
                                                                    </h:outputText>
                                                                </p:column>

                                                                <p:column headerText="PO Value">
                                                                    <h:outputText value="#{aspPO.poValue}" >
                                                                        <f:convertNumber currencySymbol="" type="currency" maxFractionDigits="0"/>
                                                                    </h:outputText>
                                                                </p:column>
                                                            </p:dataTable>
                                                            <h:panelGroup id="selectedCorrelationPO">
                                                            <h:panelGroup rendered="#{activityController.selectedASPPo!=null}">
                                                            <p:commandButton 
                                                                         class="btn-raised btn-primary btn"
                                                                          value="Correlate"
                                                                          actionListener="#{activityController.correlate}"
                                                                          update="growl,
                                                                                 :ActivityListForm:selectedCorrelationPO, 
                                                                                 :ActivityListForm:selectedCorrelation, 
                                                                                 :ActivityListForm:datalistActivity">

                                                            </p:commandButton>
                                                            </h:panelGroup>
                                                            </h:panelGroup>
                                                        </h:panelGroup>
                                                        <h:panelGroup rendered="#{activityController.selectedItems.get(0).correlateTo eq 'CUSTOMER'}">
                                                            <label >Total Vendor Work Done: (
                                                                <h:outputText value="#{activityController.totalPriceVendor}"/>
                                                                )</label>
                                                            <br></br>
                                                            <label >Please select a PO to correlate Activity (#{activityController.activityIds})</label>
                                                            <p:dataTable 
                                                                id="vendorDataTable"
                                                                var="vPO" 
                                                                value="#{vendorPoController.findMatchingVendorPOForActivity()}"
                                                                emptyMessage="No POs found matching this activity"
                                                                selection="#{activityController.selectedVendorPo}"
                                                                selectionMode="single"
                                                                rowKey="#{vPO.poNumber}"
                                                                styleClass="fixed-size">
                                                                
                                                                <p:ajax event="rowSelect" update=":ActivityListForm:selectedCorrelationVPO"/>
                                                                
                                                                <p:column headerText="PO#">
                                                                    <h:outputText value="#{vPO.poNumber}" />
                                                                </p:column>

                                                                <p:column headerText="Remaining">
                                                                    <h:outputText value="#{vPO.remainingInPo}" >
                                                                        <f:convertNumber currencySymbol="" type="currency" maxFractionDigits="0"/>
                                                                    </h:outputText>
                                                                </p:column>

                                                                <p:column headerText="PO Value">
                                                                    <h:outputText value="#{vPO.poValue}" >
                                                                        <f:convertNumber currencySymbol="" type="currency" maxFractionDigits="0"/>
                                                                    </h:outputText>
                                                                </p:column>
                                                                <p:column headerText="Factor">
                                                                    <h:outputText value="#{vPO.factor}" />
                                                                </p:column>
                                                                <p:column headerText="Work Done">
                                                                    <h:outputText value="#{vPO.workDone}" />
                                                                </p:column>
                                                            </p:dataTable>
                                                            <h:panelGroup id="selectedCorrelationVPO">
                                                            <h:panelGroup rendered="#{activityController.selectedVendorPo!=null}">
                                                            <p:commandButton 
                                                                         class="btn-raised btn-primary btn"
                                                                          value="Correlate"
                                                                          actionListener="#{activityController.correlateVendorPo}"
                                                                          update="growl,
                                                                                 :ActivityListForm:selectedCorrelationVPO, 
                                                                                 :ActivityListForm:selectedCorrelation, 
                                                                                 :ActivityListForm:datalistActivity">

                                                            </p:commandButton>
                                                            </h:panelGroup>
                                                            </h:panelGroup>
                                                        </h:panelGroup>
                                                    </h:panelGroup>
                                                    </p:outputPanel>
                                                </div>
                                        </div>
                                        </div>
                                    </h:panelGroup>    
                                    </div>
                                        
                                <!--page content end here--> 
                                </h:form>
                                <p:dialog id="ActivityEditDlg" widgetVar="ActivityEditDialog" modal="true" resizable="false" appendTo="@(body)" header="#{bundle.EditActivityTitle}">
                                    <h:form id="ActivityEditForm">
                                        <h:panelGroup id="display">
                                            <p:panelGrid columns="2" rendered="#{activityController.selected != null}">
                                                
                                                <p:outputLabel value="#{bundle.EditActivityLabel_activityComment}" for="activityComment" />
                                                <p:inputText id="activityComment" value="#{activityController.selected.activityComment}" title="#{bundle.EditActivityTitle_activityComment}" />
                                                <p:outputLabel value="#{bundle.EditActivityLabel_approvalStatus}" for="approvalStatus" />
                                                <p:selectOneMenu id="approvalStatus" value="#{activityController.selected.approvalStatus}" 
                                                                 converter="ApprovalStatusControllerConverter">
                                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                                    <f:selectItems value="#{approvalStatusController.itemsAvailableSelectOne}"
                                                                   var="approvalStatusItem"
                                                                   itemLabel="#{approvalStatusItem.statusName}"
                                                                   itemValue="#{approvalStatusItem}"/>
                                                </p:selectOneMenu>
                                                <p:outputLabel value="#{bundle.EditActivityLabel_area}" for="area" />
                                                <p:selectOneMenu id="area" value="#{activityController.selected.area}" 
                                                                 required="true" 
                                                                 requiredMessage="#{bundle.EditActivityRequiredMessage_area}"
                                                                 converter="AreaControllerConverter">
                                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                                    <f:selectItems value="#{areaController.itemsAvailableSelectOne}"
                                                                   var="areaItem"
                                                                   itemLabel="#{areaItem.areaName}"
                                                                   itemValue="#{areaItem}"/>
                                                </p:selectOneMenu>
                                                <p:outputLabel value="#{bundle.EditActivityLabel_claimStatus}" for="claimStatus" />
                                                <p:selectOneMenu id="claimStatus" value="#{activityController.selected.claimStatus}" 
                                                                 converter="ClaimStatusControllerConverter">
                                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                                    <f:selectItems value="#{claimStatusController.itemsAvailableSelectOne}"
                                                                   var="claimStatusItem"
                                                                   itemLabel="#{claimStatusItem.claimName}"
                                                                   itemValue="#{claimStatusItem}"/>
                                                </p:selectOneMenu>
                                                <p:outputLabel value="#{bundle.EditActivityLabel_phase}" for="phase" />
                                                <p:selectOneMenu id="phase" value="#{activityController.selected.phase}" 
                                                                 converter="PhasesControllerConverter">
                                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                                    <f:selectItems value="#{phasesController.itemsAvailableSelectOne}"
                                                                   var="phaseItem"
                                                                   itemLabel="#{phaseItem.phaseName}"
                                                                   itemValue="#{phaseItem}"/>
                                                </p:selectOneMenu>
                                                <p:outputLabel value="Owner" for="vendorOwner" />
                                                <p:selectOneMenu id="vendorOwner" value="#{activityController.selected.vendorOwner}" 
                                                                 required="true" 
                                                                 requiredMessage="Owner is required"
                                                                 converter="VendorOwnerControllerConverter">
                                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                                    <f:selectItems value="#{vendorOwnerController.itemsAvailableSelectOne}"
                                                                   var="vendorOwnerItem"
                                                                   itemLabel="#{vendorOwnerItem.ownerName}"
                                                                   itemValue="#{vendorOwnerItem}"/>
                                                </p:selectOneMenu>
                                            </p:panelGrid>
                                            <p:commandButton actionListener="#{activityController.update}" value="#{bundle.Save}" update="display,:ActivityListForm:datalistActivity,:ActivityListForm:growl" oncomplete="handleSubmit(args, 'ActivityEditDialog');"/>
                                            <p:commandButton value="#{bundle.Cancel}" onclick="ActivityEditDialog.hide()"/>
                                        </h:panelGroup>
                                    </h:form>
                                </p:dialog>
                                
                            </div>
                        </div>
                    </div>

                    <POMSII:Footer/>

                </div>
            </div>
        </div>

        <h:outputScript library="primefaces" name="jquery/jquery.js" target="head" />
        <h:outputScript library="js" name="jsfcrud.js" target="head" />
        <script src="#{resource['assets/js/bootstrap.min.js']}"></script>
        <script src="#{resource['assets/js/enquire.min.js']}"></script>
        <script src="#{resource['assets/plugins/velocityjs/velocity.min.js']}"></script>
        <script src="#{resource['assets/plugins/progress-skylo/skylo.js']}"></script>
        <script src="#{resource['assets/plugins/bootstrap-material-design/js/material.min.js']}"></script>
        <script src="#{resource['assets/js/application.js']}"></script>
        <script src="#{resource['assets/plugins/bootstrap-datepicker/bootstrap-datepicker.js']}"></script>

    </h:body>

</html>

